{"dependencies":[{"name":"I:\\nap\\pixi\\package.json","includedInParent":true,"mtime":1520872037604},{"name":"I:\\nap\\pixi\\.babelrc","includedInParent":true,"mtime":1520870313510},{"name":"I:\\nap\\pixi\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1516219849000},{"name":"../core","loc":{"line":7,"column":20}},{"name":"../core/math/ObservablePoint","loc":{"line":11,"column":31}},{"name":"../core/utils","loc":{"line":15,"column":21}},{"name":"../core/settings","loc":{"line":17,"column":24}}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=require(\"../core\"),i=u(e),n=require(\"../core/math/ObservablePoint\"),r=h(n),s=require(\"../core/utils\"),o=require(\"../core/settings\"),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function f(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function c(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(e){function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,n);var s=l(this,e.call(this));return s._textWidth=0,s._textHeight=0,s._glyphs=[],s._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||\"left\",name:null,size:0},s.font=i.font,s._text=t,s._maxWidth=0,s._maxLineHeight=0,s._anchor=new r.default(function(){s.dirty=!0},s,0,0),s.dirty=!1,s.updateText(),s}return c(n,e),n.prototype.updateText=function(){for(var t=n.fonts[this._font.name],e=this._font.size/t.size,r=new i.Point,s=[],o=[],a=null,h=0,u=0,f=0,l=-1,c=0,g=0,p=0,x=0;x<this.text.length;x++){var y=this.text.charCodeAt(x);if(/(\\s)/.test(this.text.charAt(x))&&(l=x,c=h),/(?:\\r\\n|\\r|\\n)/.test(this.text.charAt(x)))o.push(h),u=Math.max(u,h),f++,r.x=0,r.y+=t.lineHeight,a=null;else if(-1!==l&&this._maxWidth>0&&r.x*e>this._maxWidth)i.utils.removeItems(s,l-g,x-l),x=l,l=-1,++g,o.push(c),u=Math.max(u,c),f++,r.x=0,r.y+=t.lineHeight,a=null;else{var d=t.chars[y];d&&(a&&d.kerning[a]&&(r.x+=d.kerning[a]),s.push({texture:d.texture,line:f,charCode:y,position:new i.Point(r.x+d.xOffset,r.y+d.yOffset)}),h=r.x+(d.texture.width+d.xOffset),r.x+=d.xAdvance,p=Math.max(p,d.yOffset+d.texture.height),a=y)}}o.push(h),u=Math.max(u,h);for(var _=[],m=0;m<=f;m++){var v=0;\"right\"===this._font.align?v=u-o[m]:\"center\"===this._font.align&&(v=(u-o[m])/2),_.push(v)}for(var b=s.length,A=this.tint,O=0;O<b;O++){var w=this._glyphs[O];w?w.texture=s[O].texture:(w=new i.Sprite(s[O].texture),this._glyphs.push(w)),w.position.x=(s[O].position.x+_[s[O].line])*e,w.position.y=s[O].position.y*e,w.scale.x=w.scale.y=e,w.tint=A,w.parent||this.addChild(w)}for(var I=b;I<this._glyphs.length;++I)this.removeChild(this._glyphs[I]);if(this._textWidth=u*e,this._textHeight=(r.y+t.lineHeight)*e,0!==this.anchor.x||0!==this.anchor.y)for(var k=0;k<b;k++)this._glyphs[k].x-=this._textWidth*this.anchor.x,this._glyphs[k].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*e},n.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},n.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},n.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},n.registerFont=function(t,e){var r={},o=t.getElementsByTagName(\"info\")[0],h=t.getElementsByTagName(\"common\")[0],u=t.getElementsByTagName(\"page\")[0].getAttribute(\"file\"),f=(0,s.getResolutionOfUrl)(u,a.default.RESOLUTION);r.font=o.getAttribute(\"face\"),r.size=parseInt(o.getAttribute(\"size\"),10),r.lineHeight=parseInt(h.getAttribute(\"lineHeight\"),10)/f,r.chars={};for(var l=t.getElementsByTagName(\"char\"),c=0;c<l.length;c++){var g=l[c],p=parseInt(g.getAttribute(\"id\"),10),x=new i.Rectangle(parseInt(g.getAttribute(\"x\"),10)/f+e.frame.x/f,parseInt(g.getAttribute(\"y\"),10)/f+e.frame.y/f,parseInt(g.getAttribute(\"width\"),10)/f,parseInt(g.getAttribute(\"height\"),10)/f);r.chars[p]={xOffset:parseInt(g.getAttribute(\"xoffset\"),10)/f,yOffset:parseInt(g.getAttribute(\"yoffset\"),10)/f,xAdvance:parseInt(g.getAttribute(\"xadvance\"),10)/f,kerning:{},texture:new i.Texture(e.baseTexture,x)}}for(var y=t.getElementsByTagName(\"kerning\"),d=0;d<y.length;d++){var _=y[d],m=parseInt(_.getAttribute(\"first\"),10)/f,v=parseInt(_.getAttribute(\"second\"),10)/f,b=parseInt(_.getAttribute(\"amount\"),10)/f;r.chars[v]&&(r.chars[v].kerning[m]=b)}return n.fonts[r.font]=r,r},t(n,[{key:\"tint\",get:function(){return this._font.tint},set:function(t){this._font.tint=\"number\"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:\"align\",get:function(){return this._font.align},set:function(t){this._font.align=t||\"left\",this.dirty=!0}},{key:\"anchor\",get:function(){return this._anchor},set:function(t){\"number\"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:\"font\",get:function(){return this._font},set:function(t){t&&(\"string\"==typeof t?(t=t.split(\" \"),this._font.name=1===t.length?t[0]:t.slice(1).join(\" \"),this._font.size=t.length>=2?parseInt(t[0],10):n.fonts[this._font.name].size):(this._font.name=t.name,this._font.size=\"number\"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:\"text\",get:function(){return this._text},set:function(t){t=t.toString()||\" \",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:\"maxWidth\",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:\"maxLineHeight\",get:function(){return this.validate(),this._maxLineHeight}},{key:\"textWidth\",get:function(){return this.validate(),this._textWidth}},{key:\"textHeight\",get:function(){return this.validate(),this._textHeight}}]),n}(i.Container);exports.default=g,g.fonts={};"},"hash":"03733c0286a6fe35144c9ec3c2fc1b0e","cacheData":{"env":{}}}