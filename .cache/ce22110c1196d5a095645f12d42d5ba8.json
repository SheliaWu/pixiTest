{"dependencies":[{"name":"I:\\nap\\pixi\\package.json","includedInParent":true,"mtime":1520872037604},{"name":"I:\\nap\\pixi\\.babelrc","includedInParent":true,"mtime":1520870313510},{"name":"I:\\nap\\pixi\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1516219849000},{"name":"../core","loc":{"line":5,"column":20}},{"name":"./limiters/CountLimiter","loc":{"line":9,"column":28}}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=require(\"../core\"),e=n(t),i=require(\"./limiters/CountLimiter\"),r=s(i);function s(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var u=e.ticker.shared;e.settings.UPLOADS_PER_FRAME=4;var h=function(){function t(i){var s=this;o(this,t),this.limiter=new r.default(e.settings.UPLOADS_PER_FRAME),this.renderer=i,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){s.queue&&s.prepareItems()},this.registerFindHook(p),this.registerFindHook(k),this.registerFindHook(l),this.registerFindHook(a),this.registerFindHook(d),this.registerUploadHook(f),this.registerUploadHook(c)}return t.prototype.upload=function(t,i){\"function\"==typeof t&&(i=t,t=null),t&&this.add(t),this.queue.length?(i&&this.completes.push(i),this.ticking||(this.ticking=!0,u.addOnce(this.tick,this,e.UPDATE_PRIORITY.UTILITY))):i&&i()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],i=!1;if(t&&!t._destroyed)for(var r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),i=!0;break}i||this.queue.shift()}if(this.queue.length)u.addOnce(this.tick,this,e.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,h=n.length;o<h;o++)n[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var i=0,r=this.addHooks.length;i<r&&!this.addHooks[i](t,this.queue);i++);if(t instanceof e.Container)for(var s=t.children.length-1;s>=0;s--)this.add(t.children[s]);return this},t.prototype.destroy=function(){this.ticking&&u.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function l(t,i){var r=!1;if(t&&t._textures&&t._textures.length)for(var s=0;s<t._textures.length;s++)if(t._textures[s]instanceof e.Texture){var n=t._textures[s].baseTexture;-1===i.indexOf(n)&&(i.push(n),r=!0)}return r}function a(t,i){return t instanceof e.BaseTexture&&(-1===i.indexOf(t)&&i.push(t),!0)}function d(t,i){if(t._texture&&t._texture instanceof e.Texture){var r=t._texture.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function f(t,i){return i instanceof e.Text&&(i.updateText(!0),!0)}function c(t,i){if(i instanceof e.TextStyle){var r=i.toFontString();return e.TextMetrics.measureFont(r),!0}return!1}function p(t,i){if(t instanceof e.Text){-1===i.indexOf(t.style)&&i.push(t.style),-1===i.indexOf(t)&&i.push(t);var r=t._texture.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function k(t,i){return t instanceof e.TextStyle&&(-1===i.indexOf(t)&&i.push(t),!0)}exports.default=h;"},"hash":"30f9c17c482c7506e9fb3e6e1f1fe02a","cacheData":{"env":{}}}