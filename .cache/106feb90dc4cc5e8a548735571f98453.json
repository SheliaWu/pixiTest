{"dependencies":[{"name":"I:\\nap\\pixi\\package.json","includedInParent":true,"mtime":1520872037604},{"name":"I:\\nap\\pixi\\.babelrc","includedInParent":true,"mtime":1520870313510},{"name":"I:\\nap\\pixi\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1516219849000},{"name":"pixi-gl-core","loc":{"line":5,"column":26}},{"name":"../../const","loc":{"line":7,"column":21}},{"name":"./utils/RenderTarget","loc":{"line":9,"column":28}},{"name":"../../utils","loc":{"line":13,"column":21}}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var e=require(\"pixi-gl-core\"),t=require(\"../../const\"),r=require(\"./utils/RenderTarget\"),s=a(r),i=require(\"../../utils\");function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var u=function(){function r(e){n(this,r),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return r.prototype.bindTexture=function(){},r.prototype.getTexture=function(){},r.prototype.updateTexture=function(r,i){var a=this.gl,n=!!r._glRenderTargets;if(!r.hasLoaded)return null;var u=this.renderer.boundTextures;if(void 0===i){i=0;for(var o=0;o<u.length;++o)if(u[o]===r){i=o;break}}u[i]=r,a.activeTexture(a.TEXTURE0+i);var d=r._glTextures[this.renderer.CONTEXT_UID];if(d)n?r._glRenderTargets[this.renderer.CONTEXT_UID].resize(r.width,r.height):d.upload(r.source);else{if(n){var l=new s.default(this.gl,r.width,r.height,r.scaleMode,r.resolution);l.resize(r.width,r.height),r._glRenderTargets[this.renderer.CONTEXT_UID]=l,d=l.texture}else(d=new e.GLTexture(this.gl,null,null,null,null)).bind(i),d.premultiplyAlpha=!0,d.upload(r.source);r._glTextures[this.renderer.CONTEXT_UID]=d,r.on(\"update\",this.updateTexture,this),r.on(\"dispose\",this.destroyTexture,this),this._managedTextures.push(r),r.isPowerOfTwo?(r.mipmap&&d.enableMipmap(),r.wrapMode===t.WRAP_MODES.CLAMP?d.enableWrapClamp():r.wrapMode===t.WRAP_MODES.REPEAT?d.enableWrapRepeat():d.enableWrapMirrorRepeat()):d.enableWrapClamp(),r.scaleMode===t.SCALE_MODES.NEAREST?d.enableNearestScaling():d.enableLinearScaling()}return d},r.prototype.destroyTexture=function(e,t){if((e=e.baseTexture||e).hasLoaded){var r=this.renderer.CONTEXT_UID,s=e._glTextures,a=e._glRenderTargets;if(s[r]&&(this.renderer.unbindTexture(e),s[r].destroy(),e.off(\"update\",this.updateTexture,this),e.off(\"dispose\",this.destroyTexture,this),delete s[r],!t)){var n=this._managedTextures.indexOf(e);-1!==n&&(0,i.removeItems)(this._managedTextures,n,1)}a&&a[r]&&(a[r].destroy(),delete a[r])}},r.prototype.removeAll=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}},r.prototype.destroy=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off(\"update\",this.updateTexture,this),t.off(\"dispose\",this.destroyTexture,this)}this._managedTextures=null},r}();exports.default=u;"},"hash":"14b5bf954fa06b906a1681315c58a94b","cacheData":{"env":{}}}