{"dependencies":[{"name":"I:\\nap\\pixi\\package.json","includedInParent":true,"mtime":1520872037604},{"name":"I:\\nap\\pixi\\.babelrc","includedInParent":true,"mtime":1520870313510},{"name":"I:\\nap\\pixi\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1516219849000},{"name":"../../core","loc":{"line":5,"column":20}},{"name":"../Mesh","loc":{"line":9,"column":20}}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var e=require(\"../../core\"),r=i(e),t=require(\"../Mesh\"),n=o(t);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function a(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}var s=function(){function e(r){a(this,e),this.renderer=r}return e.prototype.render=function(e){var r=this.renderer,t=r.context,o=e.worldTransform,i=r.resolution;r.roundPixels?t.setTransform(o.a*i,o.b*i,o.c*i,o.d*i,o.tx*i|0,o.ty*i|0):t.setTransform(o.a*i,o.b*i,o.c*i,o.d*i,o.tx*i,o.ty*i),r.context.globalAlpha=e.worldAlpha,r.setBlendMode(e.blendMode),e.drawMode===n.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var r=e.vertices.length/2,t=0;t<r-2;t++){var n=2*t;this._renderDrawTriangle(e,n,n+2,n+4)}},e.prototype._renderTriangles=function(e){for(var r=e.indices,t=r.length,n=0;n<t;n+=3){var o=2*r[n],i=2*r[n+1],a=2*r[n+2];this._renderDrawTriangle(e,o,i,a)}},e.prototype._renderDrawTriangle=function(e,r,t,n){var o=this.renderer.context,i=e.uvs,a=e.vertices,s=e._texture;if(s.valid){var d=s.baseTexture,l=d.source,h=d.width,u=d.height,c=void 0,f=void 0,v=void 0,g=void 0,p=void 0,T=void 0;if(e.uploadUvTransform){var w=e._uvTransform.mapCoord;c=(i[r]*w.a+i[r+1]*w.c+w.tx)*d.width,f=(i[t]*w.a+i[t+1]*w.c+w.tx)*d.width,v=(i[n]*w.a+i[n+1]*w.c+w.tx)*d.width,g=(i[r]*w.b+i[r+1]*w.d+w.ty)*d.height,p=(i[t]*w.b+i[t+1]*w.d+w.ty)*d.height,T=(i[n]*w.b+i[n+1]*w.d+w.ty)*d.height}else c=i[r]*d.width,f=i[t]*d.width,v=i[n]*d.width,g=i[r+1]*d.height,p=i[t+1]*d.height,T=i[n+1]*d.height;var M=a[r],_=a[t],y=a[n],x=a[r+1],b=a[t+1],m=a[n+1],P=e.canvasPadding/this.renderer.resolution;if(P>0){var q=P/Math.abs(e.worldTransform.a),D=P/Math.abs(e.worldTransform.d),A=(M+_+y)/3,E=(x+b+m)/3,C=M-A,F=x-E,O=Math.sqrt(C*C+F*F);M=A+C/O*(O+q),x=E+F/O*(O+D),F=b-E,_=A+(C=_-A)/(O=Math.sqrt(C*C+F*F))*(O+q),b=E+F/O*(O+D),F=m-E,y=A+(C=y-A)/(O=Math.sqrt(C*C+F*F))*(O+q),m=E+F/O*(O+D)}o.save(),o.beginPath(),o.moveTo(M,x),o.lineTo(_,b),o.lineTo(y,m),o.closePath(),o.clip();var R=c*p+g*v+f*T-p*v-g*f-c*T,S=M*p+g*y+_*T-p*y-g*_-M*T,B=c*_+M*v+f*y-_*v-M*f-c*y,I=c*p*y+g*_*v+M*f*T-M*p*v-g*f*y-c*_*T,j=x*p+g*m+b*T-p*m-g*b-x*T,G=c*b+x*v+f*m-b*v-x*f-c*m,H=c*p*m+g*b*v+x*f*T-x*p*v-g*f*m-c*b*T;o.transform(S/R,j/R,B/R,G/R,I/R,H/R),o.drawImage(l,0,0,h*d.resolution,u*d.resolution,0,0,h,u),o.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var r=this.renderer.context,t=e.vertices,n=t.length/2;r.beginPath();for(var o=1;o<n-2;++o){var i=2*o,a=t[i],s=t[i+1],d=t[i+2],l=t[i+3],h=t[i+4],u=t[i+5];r.moveTo(a,s),r.lineTo(d,l),r.lineTo(h,u)}r.fillStyle=\"#FF0000\",r.fill(),r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();exports.default=s,r.CanvasRenderer.registerPlugin(\"mesh\",s);"},"hash":"fc3297128899d040f821d3eb2536c66a","cacheData":{"env":{}}}