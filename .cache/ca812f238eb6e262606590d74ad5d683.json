{"dependencies":[{"name":"I:\\nap\\pixi\\package.json","includedInParent":true,"mtime":1520872037604},{"name":"I:\\nap\\pixi\\.babelrc","includedInParent":true,"mtime":1520870313510},{"name":"I:\\nap\\pixi\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1516219849000},{"name":"../SystemRenderer","loc":{"line":5,"column":31}},{"name":"./utils/CanvasMaskManager","loc":{"line":9,"column":33}},{"name":"./utils/CanvasRenderTarget","loc":{"line":13,"column":34}},{"name":"./utils/mapCanvasBlendModesToPixi","loc":{"line":17,"column":41}},{"name":"../../utils","loc":{"line":21,"column":21}},{"name":"../../const","loc":{"line":23,"column":21}},{"name":"../../settings","loc":{"line":25,"column":24}}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=require(\"../SystemRenderer\"),e=p(t),o=require(\"./utils/CanvasMaskManager\"),n=p(o),r=require(\"./utils/CanvasRenderTarget\"),i=p(r),s=require(\"./utils/mapCanvasBlendModesToPixi\"),a=p(s),l=require(\"../../utils\"),h=require(\"../../const\"),d=require(\"../../settings\"),c=p(d);function p(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function g(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function m(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(o,r,i){u(this,e);var s=g(this,t.call(this,\"Canvas\",o,r,i));return s.type=h.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext(\"2d\",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new n.default(s),s.smoothProperty=\"imageSmoothingEnabled\",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty=\"webkitImageSmoothingEnabled\":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty=\"mozImageSmoothingEnabled\":s.rootContext.oImageSmoothingEnabled?s.smoothProperty=\"oImageSmoothingEnabled\":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty=\"msImageSmoothingEnabled\")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return m(e,t),e.prototype.render=function(t,e,o,n,r){if(this.view){this.renderingToScreen=!e,this.emit(\"prerender\");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new i.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!r){var l=t.parent,d=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(d),this._tempDisplayObjectParent.transform._worldID=-1):d.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=l}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=h.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle=\"black\",a.clear()),(void 0!==o?o:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit(\"postrender\")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,o){t.prototype.resize.call(this,e,o),this.smoothProperty&&(this.rootContext[this.smoothProperty]=c.default.SCALE_MODE===h.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(e.default);exports.default=f,l.pluginTarget.mixin(f);"},"hash":"331f768dfe4d8a427e4d4ede35cc969d","cacheData":{"env":{}}}