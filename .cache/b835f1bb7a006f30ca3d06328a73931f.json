{"dependencies":[{"name":"I:\\nap\\pixi\\package.json","includedInParent":true,"mtime":1520872037604},{"name":"I:\\nap\\pixi\\.babelrc","includedInParent":true,"mtime":1520870313510},{"name":"I:\\nap\\pixi\\node_modules\\pixi.js\\package.json","includedInParent":true,"mtime":1516219849000},{"name":"../Filter","loc":{"line":5,"column":23}},{"name":"../../../../math","loc":{"line":9,"column":20}},{"name":"path","loc":{"line":11,"column":20}},{"name":"../../../../textures/TextureMatrix","loc":{"line":13,"column":29}}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var r=require(\"../Filter\"),e=i(r),t=require(\"../../../../math\"),n=require(\"path\"),o=require(\"../../../../textures/TextureMatrix\"),a=i(o);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,e){if(!(r instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function u(r,e){if(!r)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?r:e}function p(r,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var l=function(r){function e(n){s(this,e);var o=new t.Matrix,a=u(this,r.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 otherMatrix;\\n\\nvarying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n}\\n\",\"varying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mask;\\nuniform float alpha;\\nuniform vec4 maskClamp;\\n\\nvoid main(void)\\n{\\n    float clip = step(3.5,\\n        step(maskClamp.x, vMaskCoord.x) +\\n        step(maskClamp.y, vMaskCoord.y) +\\n        step(vMaskCoord.x, maskClamp.z) +\\n        step(vMaskCoord.y, maskClamp.w));\\n\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\n    vec4 masky = texture2D(mask, vMaskCoord);\\n\\n    original *= (masky.r * masky.a * alpha * clip);\\n\\n    gl_FragColor = original;\\n}\\n\"));return n.renderable=!1,a.maskSprite=n,a.maskMatrix=o,a}return p(e,r),e.prototype.apply=function(r,e,t){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new a.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,r.applyFilter(this,e,t))},e}(e.default);exports.default=l;"},"hash":"b4a6d3793dabe45d2bd4b88dcbf472d7","cacheData":{"env":{}}}